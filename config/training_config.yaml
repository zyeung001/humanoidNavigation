# Training Configuration for Humanoid Navigation

# General settings
general:
  seed: 42
  device: "auto" 
  verbose: 1
  save_freq: 50000   # Save model every 50k steps
  eval_freq: 50000    # Evaluate every 50k steps
  eval_episodes: 10   # More for better averages

# Logging
logging:
  use_tensorboard: true
  log_dir: "data/logs"
  project_name: "humanoid-navigation"

# Walking task - main focus
walking:
  algorithm: "PPO"
  total_timesteps: 3000000  
  learning_rate: 0.0003
  batch_size: 64
  n_steps: 2048
  n_epochs: 10
  gamma: 0.99
  gae_lambda: 0.95
  clip_range: 0.2
  ent_coef: 0.0
  vf_coef: 0.5
  max_grad_norm: 0.5
  
  # Environment settings
  env_params:
    task_type: "walking"
    max_episode_steps: 1000
  
  # Neural network architecture
  policy_kwargs:
    net_arch:
      pi: [400, 300]      # Policy network layers
      vf: [400, 300]      # Value network layers
    activation_fn: "tanh"

# Standing task
standing:
  algorithm: "PPO"
  total_timesteps: 5000000  # Increased for robust standing
  learning_rate: 0.0003
  batch_size: 4096  # Larger for stability
  n_steps: 2048
  n_epochs: 10
  gamma: 0.99
  gae_lambda: 0.95
  clip_range: 0.2
  ent_coef: 0.02  # Boosted for better exploration/balance
  vf_coef: 0.5
  max_grad_norm: 0.5
  
  env_params:
    task_type: "standing"
    max_episode_steps: 1000
  
  policy_kwargs:
    net_arch:
      pi: [512, 256, 128]
      vf: [512, 256, 128]
    activation_fn: "relu"  # Switched to ReLU for better convergence in MuJoCo

# Navigation task  
navigation:
  algorithm: "PPO"
  total_timesteps: 10000000
  learning_rate: 0.0001
  batch_size: 128
  n_steps: 2048
  n_epochs: 10
  gamma: 0.995
  gae_lambda: 0.95
  clip_range: 0.2
  ent_coef: 0.01
  vf_coef: 0.5
  max_grad_norm: 0.5
  
  env_params:
    task_type: "navigation"
    max_episode_steps: 3000
  
  policy_kwargs:
    net_arch:
      pi: [512, 512, 256]
      vf: [512, 512, 256]
    activation_fn: "relu"

# Model saving
checkpointing:
  save_best: true
  save_last: true
  checkpoint_dir: "data/checkpoints"
  model_dir: "models/saved_models"

# Evaluation
evaluation:
  render_eval: false      # Set to true if you want to see the humanoid move
  record_video: true
  video_dir: "data/videos"
  video_length: 1000